<!DOCTYPE html>
<html lang="pt"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
  <title>Página Home</title>
</head>

<body>
<section layout:fragment="corpo">

  <nav class="navbar navbar-expand-md bg-light">
    <div class="collapse navbar-collapse" id="navbarsExampleDefault">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item active">
          <i class="oi oi-caret-right"></i>
          <span>Lista de Comandas</span>
        </li>
      </ul>
      <a class="btn btn-primary btn-md" href="/comandas/nova" role="button">
        <span class="oi oi-plus" aria-hidden="true"></span>
        <span>Criar Comanda</span>
      </a>
    </div>
  </nav>

  <div class="container mt-4">
    <div class="table-responsive">
      <table class="table table-striped table-hover table-sm">
        <thead>
        <tr>
          <th>#</th>
          <th>Data</th>
          <th>Responsável</th>
          <th>Total</th>
          <th>Itens</th>
          <th>Status</th>
          <th>Ação</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="c : ${comandas}">
          <td th:text="${c.id}">1</td>
          <td th:text="${#dates.format(c.data, 'dd/MM/yyyy')}">01/10/2025</td>
          <td th:text="${c.responsavel != null ? c.responsavel.nome : '---'}">Empresa X</td>
          <td th:text="${#numbers.formatDecimal(c.total, 1, 'POINT', 2, 'COMMA')}">0,00</td>
          <td th:text="${c.itens != null ? c.itens.size() : 0}">0</td>
          <td th:text="${c.estaFechada ? 'Fechada' : 'Aberta'}">Aberta</td>
          <td>
            <a class="btn btn-info btn-sm" th:href="@{/comandas/editar/{id}(id=${c.id})}">
              <span class="oi oi-brush" title="Editar" aria-hidden="true"></span>
            </a>
            <a class="btn btn-secondary btn-sm" th:href="@{/comandas/ver/{id}(id=${c.id})}">
              <span class="oi oi-eye" title="Visualizar" aria-hidden="true"></span>
            </a>
          </td>
        </tr>

        </tbody>
      </table>
    </div>
  </div>

</section>
</body>
</html>
